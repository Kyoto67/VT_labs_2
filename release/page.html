<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Заголовок</title>
</head>
<body>
    <img align="right" src="/release/img/areas.png">
<form id="labaForm" method="get" action="script.php" target="_blank" name="mainForm" onsubmit="return validate()">
    x:   <p><input type="checkbox" name="x_-5">
         <input type="checkbox" class="checkbox" name="x_-4">
         <input type="checkbox" class="checkbox" name="x_-3">
         <input type="checkbox" class="checkbox" name="x_-2">
         <input type="checkbox" class="checkbox" name="x_-1">
         <input type="checkbox" class="checkbox" name="x_0">
         <input type="checkbox" class="checkbox" name="x_1">
         <input type="checkbox" class="checkbox" name="x_2">
         <input type="checkbox" class="checkbox" name="x_3">
         <br>
        -5 &nbsp -4 &nbsp -3 &nbsp -2 &nbsp -1 &nbsp 0 &nbsp &nbsp1 &nbsp 2 &nbsp 3
    </p>
    y:  <p><input type="text" size="4" maxlength="8"  name="y">
    </p>

    
    R: <span class="valueR" form="mainForm" name="R">Выберите значение</span>
        <p>
            <button name="R" value="1" type="button" onclick="R_1()">1</button>
            <button name="R" value="2" type="button" onclick="R_2()">2</button>
            <button name="R" value="3" type="button" onclick="R_3()">3</button>
            <button name="R" value="4" type="button" onclick="R_4()">4</button>
            <button name="R" value="5" type="button" onclick="R_5()">5</button>
        </p>
        <p><input type="submit"></p>

        <input type="hidden" id="valueR" name="R"></input>

    <script type="text/javascript">
    
    function validate(){
        // return false;
        return (valid_x() && valid_y() && valid_R());
    }
    
    function valid_y(){
        let y = document.forms["mainForm"]["y"].value;
        try {
            let value_y = parseFloat(y);
            if(value_y>-5 && value_y<3){
                return true;
            } else {
            alert("Укажите значении координаты Y числом в интервале (-5;3)")
            return false;
            }
        } catch (error) {
            alert("Укажите значении координаты Y числом в интервале (-5;3)")
            return false;
        }
    }
    
    function valid_x(){
        var countMarkedBoxes = getCountMarkedXBoxes();
        if(countMarkedBoxes==1){
            return true;
        } else {
            if(countMarkedBoxes==0){
                alert("Выберите координату X!");
            } else {
                alert("Выберите одно значение X.");
            }
            return false;
        }
    }
    
    function valid_R(){
        var valueR = document.getElementsByClassName('valueR')[0].textContent;
        if ( valueR == 1 || valueR == 2 || valueR == 3 || valueR == 4 || valueR == 5 ){
            return true;
        } else {
            alert('Выберите значение R!');
            return false;
        }
    }
    
    function getCountMarkedXBoxes(){
        var allCheckboxes = document.getElementsByClassName('checkbox');
        var countMarkedBoxes = 0;
        for (var i = 0; i < allCheckboxes.length; i++){
            if (allCheckboxes[i].checked){
                countMarkedBoxes++;
            }
        }
        return countMarkedBoxes;
    }
    
    </script>

<script>

function R_1(){
    var number = document.querySelector('.valueR');
    number.innerHTML = '1';
    document.getElementById('valueR').value = '1';
}

function R_2(){
    var number = document.querySelector('.valueR');
    number.innerHTML = '2';
    document.getElementById('valueR').value = '2';
}

function R_3(){
    var number = document.querySelector('.valueR');
    number.innerHTML = '3';
    document.getElementById('valueR').value = '3';
}

function R_4(){
    var number = document.querySelector('.valueR');
    number.innerHTML = '4';
    document.getElementById('valueR').value = '4';
}

function R_5(){
    var number = document.querySelector('.valueR');
    number.innerHTML = '5';
    document.getElementById('valueR').value = '5';
}

</script>
</form>
</body>
</html>